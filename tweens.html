<!DOCTYPE html>
<html>
<head>
  <title>Rekapi - A keyframe animation tool for JavaScript</title>
  <link href='http://fonts.googleapis.com/css?family=Candal' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Petrona' rel='stylesheet' type='text/css'>
  <link href='lib/style.css' rel='stylesheet' type='text/css'>
  <script src="dist/rekapi.bundle.min.js"></script>
  <script src="lib/jquery.js"></script>
  <script src="lib/kinetic.js"></script>
</head>
<body>
  <div id="main-container">
    <header>
      <h1><a href="./">Rekapi</a></h1>
      <h2>A keyframe animation tool for JavaScript</h2>
    </header>
    <p class="center">
    </p>
    <div id="crosshairs"></div>
    <a id="fork-me-link" href="https://github.com/jeremyckahn/rekapi/"><img src="demo/img/forkme.png" alt="Fork me!" /></a>
    <footer>Rekapi is free and open source software, obsessively made by <a href="http://www.jeremyckahn.com" target="_blank">Jeremy Kahn</a>.</footer>
  </div>
  <script type="text/javascript">
    $(function () {
        var CANVAS_CONFIG = {
          'width': 500
          ,'height': 400
        };
        var LINE_CONFIG = {
          'stroke': 6
          ,'dim': 40
        };
        var canvas = $('canvas')[0];
        var stage = new Kinetic.Stage(
          'crosshairs', CANVAS_CONFIG.width, CANVAS_CONFIG.height);
        var layer = new Kinetic.Layer();
        /*var kapi = new Kapi(canvas, {
          'fps': 60
          ,'height': CANVAS_CONFIG.height
          ,'width': CANVAS_CONFIG.width
        });
        kapi.canvas_style('background', '#eee');*/

        var crosshair = new Kinetic.Shape(function () {
          var context = this.getContext();
          var x = CANVAS_CONFIG.width / 2;
          var y = CANVAS_CONFIG.height / 2;
          var w = h = LINE_CONFIG.dim;
          context.beginPath();
          context.rect(x - w/2, y - h/2, LINE_CONFIG.dim, LINE_CONFIG.dim);
          context.lineWidth = LINE_CONFIG.stroke;
          context.fillStyle = context.strokeStyle = '#000';
          context.fill();
          context.stroke();
          context.closePath();
        });

        crosshair.draggable(true);
        crosshair.on("mouseover", function(){
            document.body.style.cursor = "pointer";
        });
        crosshair.on("mouseout", function(){
            document.body.style.cursor = "default";
        });

        layer.add(crosshair);
        stage.add(layer);

        console.log(stage)

    });
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-28621278-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</body>
</html>
